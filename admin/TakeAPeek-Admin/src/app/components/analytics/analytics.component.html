<div class="analytics">
  <div class="page-header">
    <h1>Analytics Dashboard</h1>
    <div class="date-filter">
      <select>
        <option value="7">Last 7 days</option>
        <option value="30" selected>Last 30 days</option>
        <option value="90">Last 90 days</option>
        <option value="365">Last year</option>
      </select>
    </div>
  </div>
  
  <div class="stats-cards">
    <div class="stat-card">
      <div class="stat-icon">
        <i class="feather-icon icon-users"></i>
      </div>
      <div class="stat-content">
        <h3>Total Users</h3>
        <div class="stat-value">1,254</div>
        <div class="stat-change positive">
          <i class="feather-icon icon-trending-up"></i>
          <span>+12.5%</span>
        </div>
      </div>
    </div>
    
    <div class="stat-card">
      <div class="stat-icon">
        <i class="feather-icon icon-image"></i>
      </div>
      <div class="stat-content">
        <h3>Photos Uploaded</h3>
        <div class="stat-value">24,521</div>
        <div class="stat-change positive">
          <i class="feather-icon icon-trending-up"></i>
          <span>+18.2%</span>
        </div>
      </div>
    </div>
    
    <div class="stat-card">
      <div class="stat-icon">
        <i class="feather-icon icon-hard-drive"></i>
      </div>
      <div class="stat-content">
        <h3>Storage Used</h3>
        <div class="stat-value">512 GB</div>
        <div class="stat-change positive">
          <i class="feather-icon icon-trending-up"></i>
          <span>+7.8%</span>
        </div>
      </div>
    </div>
    
    <div class="stat-card">
      <div class="stat-icon">
        <i class="feather-icon icon-activity"></i>
      </div>
      <div class="stat-content">
        <h3>Active Users</h3>
        <div class="stat-value">845</div>
        <div class="stat-change negative">
          <i class="feather-icon icon-trending-down"></i>
          <span>-3.1%</span>
        </div>
      </div>
    </div>
  </div>
  
  <div class="charts-grid">
    <div class="chart-card">
      <div class="card-header">
        <h2>User Activity</h2>
      </div>
      
      <div class="card-content">
        <div class="loading-spinner" *ngIf="isLoading">
          <div class="spinner"></div>
          <span>Loading data...</span>
        </div>
        
        <div @if="!isLoading" class="chart-container">          <ngx-charts-line-chart
            [view]="view"
            [scheme]="colorScheme"
            [results]="userActivityData"
            [gradient]="gradient"
            [xAxis]="showXAxis"
            [yAxis]="showYAxis"
            [legend]="showLegend"
            [showXAxisLabel]="showXAxisLabel"
            [showYAxisLabel]="showYAxisLabel"
            [xAxisLabel]="userActivityXAxisLabel"
            [yAxisLabel]="userActivityYAxisLabel"
            (window:resize)="onResize($event)"
          >
          </ngx-charts-line-chart>
        </div>
      </div>
    </div>
    
    <div class="chart-card">
      <div class="card-header">
        <h2>Photo Uploads</h2>
      </div>
      
      <div class="card-content">
        <div @if="!isLoading" class="chart-container">    
                <ngx-charts-bar-vertical
            [view]="view"
            [scheme]="colorScheme"
            [results]="photoUploadsData"
            [gradient]="gradient"
            [xAxis]="showXAxis"
            [yAxis]="showYAxis"
            [legend]="showLegend"
            [showXAxisLabel]="showXAxisLabel"
            [showYAxisLabel]="showYAxisLabel"
            [xAxisLabel]="photoUploadsXAxisLabel"
            [yAxisLabel]="photoUploadsYAxisLabel"
            (window:resize)="onResize($event)"
          >
          </ngx-charts-bar-vertical>
        </div>
      </div>
    </div>
    
    <div class="chart-card">
      <div class="card-header">
        <h2>Storage Usage</h2>
      </div>
      
      <div class="card-content">
        <div @if="!isLoading" class="chart-container">          <ngx-charts-pie-chart
            [view]="view"
            [scheme]="colorScheme"
            [results]="storageUsageData"
            [gradient]="gradient"
            [legend]="showLegend"
            [labels]="true"
            [doughnut]="true"
            (window:resize)="onResize($event)"
          >
          </ngx-charts-pie-chart>
        </div>
      </div>
    </div>
  </div>
</div>
