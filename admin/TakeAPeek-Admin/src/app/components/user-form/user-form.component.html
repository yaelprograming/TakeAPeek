<div class="user-form-overlay">
  <div class="user-form-modal">
    <div class="modal-header">
      <h2>{{ formTitle }}</h2>
      <button class="close-button" (click)="onClose()">
        <i class="feather-icon icon-x"></i>
      </button>
    </div>
    
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
      <div class="form-content">
        <div class="form-row">
          <div class="form-group">
            <label for="firstName">First Name</label>
            <input 
              type="text" 
              id="firstName" 
              formControlName="firstName" 
              [ngClass]="{'invalid': userForm.get('firstName')?.invalid && userForm.get('firstName')?.touched}"
            >
            <div class="error-message" @if="userForm.get('firstName')?.invalid && userForm.get('firstName')?.touched">
              <span @if="userForm.get('firstName')?.errors?.['required']">First name is required</span>
            </div>
          </div>
          
          <div class="form-group">
            <label for="lastName">Last Name</label>
            <input 
              type="text" 
              id="lastName" 
              formControlName="lastName" 
              [ngClass]="{'invalid': userForm.get('lastName')?.invalid && userForm.get('lastName')?.touched}"
            >
            <div class="error-message" @if="userForm.get('lastName')?.invalid && userForm.get('lastName')?.touched">
              <span @if="userForm.get('lastName')?.errors?.['required']">Last name is required</span>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label for="email">Email</label>
          <input 
            type="email" 
            id="email" 
            formControlName="email" 
            [ngClass]="{'invalid': userForm.get('email')?.invalid && userForm.get('email')?.touched}"
          >
          <div class="error-message" @if="userForm.get('email')?.invalid && userForm.get('email')?.touched">
            <span @if="userForm.get('email')?.errors?.['required']">Email is required</span>
            <span @if="userForm.get('email')?.errors?.['email']">Please enter a valid email</span>
          </div>
        </div>
        
        <div class="form-group">
          <label for="role">Role</label>
          <select 
            id="role" 
            formControlName="role" 
            [ngClass]="{'invalid': userForm.get('role')?.invalid && userForm.get('role')?.touched}"
          >
            <option value="admin">Admin</option>
            <option value="editor">Editor</option>
            <option value="user">User</option>
          </select>
          <div class="error-message" @if="userForm.get('role')?.invalid && userForm.get('role')?.touched">
            <span @if="userForm.get('role')?.errors?.['required']">Role is required</span>
          </div>
        </div>
        
        <div class="form-group">
          <label for="avatar">Avatar URL</label>
          <input 
            type="text" 
            id="avatar" 
            formControlName="avatar" 
          >
        </div>
        
        <div class="form-group checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" formControlName="isActive">
            <span>Active</span>
          </label>
        </div>
      </div>
      
      <div class="form-actions">
        <button type="button" class="cancel-button" (click)="onClose()">Cancel</button>
        <button type="submit" class="save-button" [disabled]="userForm.invalid">Save User</button>
      </div>
    </form>
  </div>
</div>
